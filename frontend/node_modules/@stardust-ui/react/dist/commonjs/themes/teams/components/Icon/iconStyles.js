"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _get2 = _interopRequireDefault(require("lodash/get"));

var _lib = require("../../../../lib");

var _svg = require("./svg");

var getPaddedStyle = function getPaddedStyle() {
  return {
    padding: (0, _lib.pxToRem)(4)
  };
};

var getBorderedStyles = function getBorderedStyles(boxShadowColor) {
  return Object.assign({}, getPaddedStyle(), {
    boxShadow: "0 0 0 .05rem ".concat(boxShadowColor, " inset")
  });
};

var getIconSize = function getIconSize(size, v) {
  var modifiedSizes = {
    large: {
      x: 24,
      xx: 28
    }
  };
  return v.sizeModifier && modifiedSizes[size] && modifiedSizes[size][v.sizeModifier] ? (0, _lib.pxToRem)(modifiedSizes[size][v.sizeModifier]) : v["".concat(size, "Size")];
};

var getIconColor = function getIconColor(variables, colors) {
  return (0, _get2.default)(colors, 'foreground', variables.color || 'currentColor');
};

var iconStyles = {
  root: function root(_ref) {
    var p = _ref.props,
        v = _ref.variables,
        t = _ref.theme;
    var colors = v.colorScheme[p.color];
    var maybeIcon = t.icons[p.name];
    var isSvgIcon = maybeIcon && maybeIcon.isSvg;
    return Object.assign({
      display: 'inline-block'
    }, (p.bordered || v.borderColor) && getBorderedStyles(v.borderColor || getIconColor(v, colors)), isSvgIcon && {
      backgroundColor: v.backgroundColor
    });
  },
  outlinePart: function outlinePart(_ref2) {
    var p = _ref2.props;
    return Object.assign({
      display: 'none'
    }, p.outline && {
      display: 'block'
    });
  },
  filledPart: function filledPart(_ref3) {
    var p = _ref3.props;
    return Object.assign({}, p.outline && {
      display: 'none'
    });
  },
  svg: function svg(_ref4) {
    var _ref4$props = _ref4.props,
        size = _ref4$props.size,
        color = _ref4$props.color,
        disabled = _ref4$props.disabled,
        rotate = _ref4$props.rotate,
        v = _ref4.variables;
    var colors = v.colorScheme[color];
    var iconSizeInRems = getIconSize(size, v);
    return Object.assign({
      display: 'block',
      width: iconSizeInRems,
      height: iconSizeInRems,
      fill: getIconColor(v, colors)
    }, disabled && {
      fill: v.disabledColor
    }, {
      transform: "rotate(".concat(rotate, "deg)")
    }, (0, _svg.getStyle)('svg'));
  },
  svgFlippingInRtl: function svgFlippingInRtl(config) {
    var props = config.props,
        rtl = config.rtl;
    return Object.assign({}, (0, _lib.callable)(iconStyles.svg)(config), rtl && {
      transform: "scaleX(-1) rotate(".concat(-1 * props.rotate, "deg)")
    });
  },
  g: (0, _svg.getStyle)('g'),
  path: (0, _svg.getStyle)('path'),
  secondaryPath: (0, _svg.getStyle)('secondaryPath')
};
var _default = iconStyles;
exports.default = _default;